# Math TG Bot

Телеграм-бот, помогающий готовиться к экзаменам по математике.

## Участники проекта

- Бунковская Анна 465304
- Чернышев Артём 467996

## О проекте

Math TG Bot - это Telegram бот, разработанный для помощи студентам в подготовке к экзаменам по математике. Бот предоставляет интерактивный интерфейс для прохождения тестов, решения задач и получения помощи при подготовке к экзаменам.

### Основные возможности

- **Прохождение тестов**: выбор и прохождение тестов по различным темам математики
- **Редактирование тестов**: возможность создавать и редактировать собственные тесты
- **Интеграция с Wolfram Alpha**: получение решений и подсказок для математических задач
- **Многоязычная поддержка**: бот поддерживает локализацию через систему middlewares

### Технологии

- Python 3
- aiogram (фреймворк для создания Telegram ботов)
- SQLite (для хранения тестов и данных пользователей)
- Wolfram Alpha API (для решения математических задач)

## Структура проекта

```
math_tgbot/
├── config/                 # Конфигурационные файлы
│   ├── __init__.py
│   ├── settings_bot.py     # Достает токен бота
│   └── settings_wolfram.py # Достает API Wolfram Alpha
├── keyboards/              # Клавиатуры для Telegram бота (Inline/Reply кнопки)
├── locales/                # Файлы c переводами
├── middlewares/            # Промежуточное ПО
│   ├── language_middleware.py # Обработка языковых настроек
│   └── storage_middleware.py  # Работа с хранилищем
├── routers/                # Маршрутизаторы для обработки команд
│   ├── commands.py         # Основные команды бота
│   └── handlers/           # Обработчики различных действий
│       ├── edit_quiz.py    # Редактирование тестов
│       ├── start_prep.py   # Начало подготовки к экзамену
│       ├── view_quiz.py    # Просмотр тестов
│       └── wolfram.py      # Интеграция с Wolfram Alpha
├── services/               # Сервисы
│   └── database.py         # Работа с базой данных
├── states/                 # Состояния для FSM
├── storage/                # Хранилище данных
│   └── database.db         # База данных SQLite
├── utils/                  # Утилиты
├── main.py                 # Основной файл запуска бота
└── quizzes.db              # База данных с тестами
```

## Инструкция по запуску

### Предварительные требования

- Python 3.7 или выше
- pip (менеджер пакетов Python)
- Telegram Bot API ключ (получается у [@BotFather](https://t.me/BotFather))
- MyAnimeList API ключ (для интеграции с Wolfram Alpha)

### Шаги по установке и запуску

1. **Клонирование репозитория**

   ```bash
   git clone https://github.com/abookvv/math_tgbot.git
   cd math_tgbot
   ```

2. **Установка зависимостей**

   ```bash
   pip install -r requirements.txt
   ```

   Если файл requirements.txt отсутствует, установите необходимые пакеты вручную:

   ```bash
   pip install aiogram pydantic python-dotenv
   ```

3. **Настройка конфигурации**

   Создайте файл `.env` в директории `config/` со следующим содержимым:

   ```
   telegram-api-key=YOUR_TELEGRAM_BOT_TOKEN
   myanimelist-client-id=YOUR_MYANIMELIST_CLIENT_ID
   ```

   Замените `YOUR_TELEGRAM_BOT_TOKEN` на ваш токен, полученный от [@BotFather](https://t.me/BotFather).
   Замените `YOUR_MYANIMELIST_CLIENT_ID` на ваш ID клиента MyAnimeList.

4. **Запуск бота**

   ```bash
   python main.py
   ```

   После запуска бот будет доступен в Telegram. Найдите его по имени пользователя, которое вы указали при создании бота через [@BotFather](https://t.me/BotFather).

### Получение API ключей

#### Telegram Bot API

1. Откройте Telegram и найдите [@BotFather](https://t.me/BotFather)
2. Отправьте команду `/newbot`
3. Следуйте инструкциям для создания нового бота
4. После создания бота вы получите токен API, который нужно добавить в файл `.env`

#### MyAnimeList API

1. Зарегистрируйтесь на [MyAnimeList](https://myanimelist.net/)
2. Перейдите на страницу [API](https://myanimelist.net/apiconfig)
3. Создайте новое приложение и получите Client ID
4. Добавьте полученный Client ID в файл `.env`

## Использование бота

После запуска бота вы можете взаимодействовать с ним через Telegram:

- `/start` - начать работу с ботом
- `/help` - получить справку по использованию бота
- `@` - начать подготовку к экзамену (выбор теста)

## Дополнительная информация

Для добавления новых тестов или редактирования существующих используйте соответствующие команды в боте или напрямую редактируйте базу данных `quizzes.db`.

